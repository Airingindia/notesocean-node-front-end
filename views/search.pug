doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        meta(name="description" content="search result of "+query+" and "+data.size+" notes found")
        title #{query} | Notes Ocean
        include includes/bootstrap
        style
            include ../public/stylesheets/subpages/search.css
    body
        header
            include includes/navbar
        section.main-section
            .search-container
                -if(data.size > 0){
                    div.d-flex.justify-content-between
                    h1
                        span.text-danger #{data.size} 
                        span Notes Found
                    div.search-item-row
                        - let count = 0;
                        - let adshow = 0;
                        -for (let i = 0; i < data.requested.length; i++){
                            - count++;
                            - adshow++;
                            - let productid = data.requested[i].uuid;
                            - let productname = data.requested[i].name;
                            - let timestamp = Number(data.requested[i].timestamp);
                            - let description = data.requested[i].description;
                            - let thumbnails = data.requested[i].thumbnails;
                            - var img1 = data.requested[i].thumbnails;

                            - var img2 = data.requested[i].thumbnails;

                            - var img3 = data.requested[i].thumbnails;

                            - let views = data.requested[i].views;
                            - let pages = data.requested[i].pages;
                            - let firstName = data.requested[i].users.firstName;
                            - let lastName = data.requested[i].users.lastName;
                            - let userid = data.requested[i].users.uuid;
                            - let profileImage = data.requested[i].users.profileImage == null ? "/images/dummy/user_dummy.jpg" :  data.requested[i].users.profileImage ;
                                div.wow.animate__animated.fadeIn
                                    a(href="/notes/"+productid)
                                        div.d-flex.shadow.search-notes-item.my-3
                                            .flex-shrink-0
                                                img(src=thumbnails alt=productname loading="lazy").search-item-img.lozad
                                            .search-notes-item-details.p-1(style="overflow:hidden")
                                                h6 #{productname}
                                                small #{description.substring(0,200)}
                                                div.d-flex.mt-3.text-muted
                                                    small.ml-2
                                                        i.fa.fa-globe.mx-1
                                                        span #{views} views
                                                    small.mx-2
                                                        i.fa.fa-file.mx-1
                                                        span #{pages} pages
                                                    small.mx-2
                                                        i.fa.fa-clock.mx-1
                                                        span #{time.get(timestamp)}

                                                .creator-box
                                                    a(href="/profile/"+userid)
                                                        .d-flex.align-items-center.justify-content-center
                                                            .flex-shrink-0
                                                                img(src=profileImage , alt=firstName).creator-img
                                                            .flex-grow-1.ms-2.pt-3
                                                                p.text-muted #{firstName} #{lastName}

                            -if(adshow == 5){
                                - adshow = 0;
                                div
                                    ins.adsbygoogle(style="display:block"
                                    data-ad-client="ca-pub-3834928493837917"
                                    data-ad-slot="4239178356"
                                    data-ad-format="auto"
                                    data-full-width-responsive="true")
                                    script.
                                        (adsbygoogle = window.adsbygoogle || []).push({});
                            -}
                        -}


                -}else{
                    div.container.not-found-container
                        .row
                            .col-lg-6
                                img(src="/images/illustrations/notFound.svg")
                            .col-lg-6.d-flex.justify-content-center.align-items-center
                                div
                                    h1 Your search did not match any notes or collection
                                    b Hint:
                                    li 
                                        small Try less word or sentence
                                    li 
                                        small Try diffrent word or sentence 
                                    li 
                                        small Use correct spelled  sentence

                        div.request-info.mt-5.container
                            h3.text-danger But notes ocean never disappoint you, we will send your notes in 24 hours
                            p Submit your request, our notes ocean students will fulfill your notes requiremnt 
                            a.btn.btn-notesocean.text-light.btn-sm(href="/request/new") Request notes

                -}
        script
            include ../public/javascripts/subpages/search.js

